<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PowrProf.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">oshi-core</a> &gt; <a href="index.source.html" class="el_package">oshi.jna.platform.windows</a> &gt; <span class="el_source">PowrProf.java</span></div><h1>PowrProf.java</h1><pre class="source lang-java linenums">/*
 * MIT License
 *
 * Copyright (c) 2019-2021 The OSHI Project Contributors: https://github.com/oshi/oshi/graphs/contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the &quot;Software&quot;), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
package oshi.jna.platform.windows;

import com.sun.jna.Native; // NOSONAR squid:S1191
import com.sun.jna.Pointer;
import com.sun.jna.Structure;
import com.sun.jna.Structure.FieldOrder;

/**
 * Power profile stats. This class should be considered non-API as it may be
 * removed if/when its code is incorporated into the JNA project.
 */
public interface PowrProf extends com.sun.jna.platform.win32.PowrProf {
    /** Constant &lt;code&gt;INSTANCE&lt;/code&gt; */
<span class="nc" id="L37">    PowrProf INSTANCE = Native.load(&quot;PowrProf&quot;, PowrProf.class);</span>

    /**
     * Contains information about the current state of the system battery.
     */
    @FieldOrder({ &quot;acOnLine&quot;, &quot;batteryPresent&quot;, &quot;charging&quot;, &quot;discharging&quot;, &quot;spare1&quot;, &quot;tag&quot;, &quot;maxCapacity&quot;,
            &quot;remainingCapacity&quot;, &quot;rate&quot;, &quot;estimatedTime&quot;, &quot;defaultAlert1&quot;, &quot;defaultAlert2&quot; })
    class SystemBatteryState extends Structure {
        public byte acOnLine;
        public byte batteryPresent;
        public byte charging;
        public byte discharging;
<span class="nc" id="L49">        public byte[] spare1 = new byte[3];</span>
        public byte tag;
        public int maxCapacity;
        public int remainingCapacity;
        public int rate;
        public int estimatedTime;
        public int defaultAlert1;
        public int defaultAlert2;

        public SystemBatteryState(Pointer p) {
<span class="nc" id="L59">            super(p);</span>
<span class="nc" id="L60">            read();</span>
<span class="nc" id="L61">        }</span>

        public SystemBatteryState() {
<span class="nc" id="L64">            super();</span>
<span class="nc" id="L65">        }</span>
    }

    /**
     * Contains information about a processor.
     */
    @FieldOrder({ &quot;number&quot;, &quot;maxMhz&quot;, &quot;currentMhz&quot;, &quot;mhzLimit&quot;, &quot;maxIdleState&quot;, &quot;currentIdleState&quot; })
    class ProcessorPowerInformation extends Structure {
        public int number;
        public int maxMhz;
        public int currentMhz;
        public int mhzLimit;
        public int maxIdleState;
        public int currentIdleState;

        public ProcessorPowerInformation(Pointer p) {
<span class="nc" id="L81">            super(p);</span>
<span class="nc" id="L82">            read();</span>
<span class="nc" id="L83">        }</span>

        public ProcessorPowerInformation() {
<span class="nc" id="L86">            super();</span>
<span class="nc" id="L87">        }</span>
    }

    // MOVE?
    @FieldOrder({ &quot;BatteryTag&quot;, &quot;InformationLevel&quot;, &quot;AtRate&quot; })
<span class="nc" id="L92">    class BATTERY_QUERY_INFORMATION extends Structure {</span>
        public int BatteryTag;
        public int InformationLevel;
        public int AtRate;
    }

<span class="nc" id="L98">    enum BATTERY_QUERY_INFORMATION_LEVEL {</span>
<span class="nc" id="L99">        BatteryInformation, BatteryGranularityInformation, BatteryTemperature, BatteryEstimatedTime, BatteryDeviceName,</span>
<span class="nc" id="L100">        BatteryManufactureDate, BatteryManufactureName, BatteryUniqueID, BatterySerialNumber</span>
    }

    @FieldOrder({ &quot;Capabilities&quot;, &quot;Technology&quot;, &quot;Reserved&quot;, &quot;Chemistry&quot;, &quot;DesignedCapacity&quot;, &quot;FullChargedCapacity&quot;,
            &quot;DefaultAlert1&quot;, &quot;DefaultAlert2&quot;, &quot;CriticalBias&quot;, &quot;CycleCount&quot; })
<span class="nc" id="L105">    class BATTERY_INFORMATION extends Structure {</span>
        public int Capabilities;
        public byte Technology;
<span class="nc" id="L108">        public byte[] Reserved = new byte[3];</span>
<span class="nc" id="L109">        public byte[] Chemistry = new byte[4];</span>
        public int DesignedCapacity;
        public int FullChargedCapacity;
        public int DefaultAlert1;
        public int DefaultAlert2;
        public int CriticalBias;
        public int CycleCount;
    }

    @FieldOrder({ &quot;BatteryTag&quot;, &quot;Timeout&quot;, &quot;PowerState&quot;, &quot;LowCapacity&quot;, &quot;HighCapacity&quot; })
<span class="nc" id="L119">    class BATTERY_WAIT_STATUS extends Structure {</span>
        public int BatteryTag;
        public int Timeout;
        public int PowerState;
        public int LowCapacity;
        public int HighCapacity;
    }

    @FieldOrder({ &quot;PowerState&quot;, &quot;Capacity&quot;, &quot;Voltage&quot;, &quot;Rate&quot; })
<span class="nc" id="L128">    class BATTERY_STATUS extends Structure {</span>
        public int PowerState;
        public int Capacity;
        public int Voltage;
        public int Rate;
    }

    @FieldOrder({ &quot;Day&quot;, &quot;Month&quot;, &quot;Year&quot; })
<span class="nc" id="L136">    class BATTERY_MANUFACTURE_DATE extends Structure {</span>
        public byte Day;
        public byte Month;
        public short Year;
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>